---
/**
 * index.astro
 * Landing page de Barbería Premium Temuco
 */

export const prerender = true;

import BaseLayout from '../layouts/BaseLayout.astro';
import Navbar from '../components/Navbar.astro';
import ServiceCard from '../components/ServiceCard.astro';
import TestimonialCard from '../components/TestimonialCard.astro';
import AboutSection from '../components/AboutSection.astro';
import ContactSection from '../components/ContactSection.astro';
import Footer from '../components/Footer.astro';
import WhatsAppButton from '../components/WhatsAppButton.astro';
import { barberia } from '../data/barberia.js';
---

<BaseLayout
  title={barberia.seo.title}
  description={barberia.seo.description}
  keywords={barberia.seo.keywords.join(', ')}
>
  <Navbar />

  <!-- Hero Section - Barbería Premium -->
  <section class="relative pt-20 md:pt-28 pb-16 md:pb-20 px-4 overflow-hidden min-h-[90vh] flex items-center bg-gradient-to-br from-brand-900 via-neutral-900 to-brand-800">
    <!-- Fondo decorativo -->
    <div class="absolute inset-0 overflow-hidden pointer-events-none">
      <!-- Elementos dorados flotantes -->
      <div class="absolute top-20 right-10 w-72 h-72 bg-accent-500/10 rounded-full blur-3xl animate-pulse-slow"></div>
      <div class="absolute bottom-20 left-10 w-96 h-96 bg-accent-500/5 rounded-full blur-3xl animate-pulse-slow" style="animation-delay: 3s;"></div>
      
      <!-- Grid pattern sutil -->
      <div class="absolute inset-0 opacity-5" style="background-image: radial-gradient(circle, #D4AF37 1px, transparent 1px); background-size: 50px 50px;"></div>
    </div>

    <div class="max-w-7xl mx-auto relative z-10 w-full">
      <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 items-center">
        <!-- Columna izquierda: Contenido -->
        <div class="space-y-8 text-center lg:text-left">
          <!-- Badge Premium + Oferta Urgencia -->
          <div class="space-y-3">
            <div 
              data-aos="fade-up"
              data-aos-delay="100"
              class="inline-flex items-center px-4 py-2 bg-accent-500/20 border border-accent-500/30 text-accent-400 rounded-full text-sm font-semibold backdrop-blur-sm"
            >
              {barberia.hero.badge}
            </div>
            <!-- NUEVO: Badge de Urgencia/Promoción -->
            <div 
              data-aos="fade-down"
              data-aos-delay="200"
              class="inline-flex items-center px-5 py-2.5 bg-red-500/90 border border-red-400 text-white rounded-lg text-sm font-bold backdrop-blur-sm shadow-lg animate-pulse-slow hover:scale-105 transition-transform"
            >
              <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z" clip-rule="evenodd"/>
              </svg>
              ⚡ Reserva hoy y obtén 10% de descuento en tu primera cita
            </div>
          </div>

          <!-- Título principal -->
          <div data-aos="fade-up" data-aos-delay="200">
            <h1 class="text-5xl md:text-6xl lg:text-7xl font-heading font-bold text-white leading-tight mb-4">
              {barberia.hero.title}
              <span class="block text-accent-400 mt-2">{barberia.hero.titleHighlight}</span>
            </h1>
          </div>

          <!-- Subtítulo -->
          <p 
            class="text-lg md:text-xl text-neutral-300 leading-relaxed max-w-2xl mx-auto lg:mx-0"
            data-aos="fade-up"
            data-aos-delay="300"
          >
            {barberia.hero.subtitle}
          </p>

          <!-- Iconos rápidos -->
          <div 
            class="flex flex-wrap justify-center lg:justify-start gap-4 text-neutral-400"
            data-aos="fade-up"
            data-aos-delay="400"
          >
            {barberia.hero.icons.map((item) => (
              <div class="flex items-center space-x-2 bg-neutral-800/50 px-4 py-2 rounded-full backdrop-blur-sm border border-neutral-700/50">
                <span class="text-2xl">{item.icon}</span>
                <span class="text-sm">{item.label}</span>
              </div>
            ))}
          </div>

          <!-- Botones CTA -->
          <div 
            class="flex flex-col sm:flex-row gap-4 justify-center lg:justify-start pt-4"
            data-aos="fade-up"
            data-aos-delay="500"
          >
            <a 
              href={barberia.hero.ctaPrimary.link}
              class="inline-flex items-center justify-center px-8 py-4 bg-accent-500 hover:bg-accent-600 text-brand-900 font-bold text-lg rounded-lg shadow-gold hover:shadow-glow-gold transition-all duration-300 transform hover:scale-105"
            >
              <span class="mr-2">{barberia.hero.ctaPrimary.icon}</span>
              {barberia.hero.ctaPrimary.text}
            </a>
            <a 
              href={barberia.hero.ctaSecondary.link}
              class="inline-flex items-center justify-center px-8 py-4 bg-transparent border-2 border-accent-500 hover:bg-accent-500/10 text-accent-400 font-bold text-lg rounded-lg transition-all duration-300"
            >
              {barberia.hero.ctaSecondary.text}
              <span class="ml-2">{barberia.hero.ctaSecondary.icon}</span>
            </a>
          </div>

          <!-- Stats -->
          <div 
            class="grid grid-cols-3 gap-6 pt-8 border-t border-neutral-700/50"
            data-aos="fade-up"
            data-aos-delay="600"
          >
            {barberia.hero.stats.map((stat) => (
              <div class="text-center">
                <p class="text-3xl md:text-4xl font-bold text-accent-300 mb-1">{stat.value}</p>
                <p class="text-sm md:text-base text-neutral-300 font-medium">{stat.label}</p>
              </div>
            ))}
          </div>
        </div>

        <!-- Columna derecha: Imagen/Visual -->
        <div class="relative" data-aos="fade-left" data-aos-delay="400">
          <div class="relative rounded-2xl overflow-hidden shadow-2xl shadow-accent/20">
            <!-- Placeholder para imagen hero -->
            <div class="aspect-square bg-gradient-to-br from-neutral-800 to-brand-900 flex items-center justify-center border-4 border-accent-500/30">
              <div class="text-center p-8">
                <div class="text-9xl mb-6">✂️</div>
                <p class="text-accent-400 text-2xl font-bold mb-2">Barbería Premium</p>
                <p class="text-neutral-400">Temuco, Chile</p>
              </div>
            </div>
          </div>
          
          <!-- Elementos decorativos dorados -->
          <div class="absolute -bottom-8 -left-8 w-40 h-40 bg-accent-500/20 rounded-full blur-3xl animate-pulse-slow"></div>
          <div class="absolute -top-8 -right-8 w-40 h-40 bg-accent-500/20 rounded-full blur-3xl animate-pulse-slow" style="animation-delay: 2s;"></div>
        </div>
      </div>
    </div>

    <!-- Onda decorativa inferior -->
    <div class="absolute bottom-0 left-0 right-0">
      <svg viewBox="0 0 1440 120" fill="none" xmlns="http://www.w3.org/2000/svg" class="w-full">
        <path d="M0 120L60 105C120 90 240 60 360 45C480 30 600 30 720 37.5C840 45 960 60 1080 67.5C1200 75 1320 75 1380 75L1440 75V120H1380C1320 120 1200 120 1080 120C960 120 840 120 720 120C600 120 480 120 360 120C240 120 120 120 60 120H0Z" fill="#0a0a0a"/>
      </svg>
    </div>
  </section>

  <!-- Sección de Servicios -->
  <section id="servicios" class="py-20 px-4 bg-neutral-950">
    <div class="max-w-7xl mx-auto">
      <!-- Encabezado -->
      <div class="text-center mb-16" data-aos="fade-up">
        <h2 class="text-4xl md:text-5xl font-heading font-bold text-white mb-4">
          Nuestros Servicios
        </h2>
        <p class="text-xl text-accent-400 font-semibold mb-6">
          Calidad y precisión en cada detalle
        </p>
        <div class="w-24 h-1 bg-accent-500 mx-auto"></div>
      </div>

      <!-- Grilla de servicios -->
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-12">
        {barberia.services.map((service, index) => (
          <div 
            class={`group relative bg-neutral-900 rounded-xl p-6 border ${service.highlight ? 'border-accent-500 shadow-glow-gold' : 'border-neutral-800'} hover:border-accent-500/50 hover:-translate-y-3 hover:shadow-2xl hover:shadow-accent/20 transition-all duration-500 hover:scale-105 cursor-pointer overflow-hidden`}
            data-aos="fade-up"
            data-aos-delay={index * 100}
          >
            {/* Badge Premium destacado */}
            {service.highlight && (
              <div class="absolute -top-2 -right-2 bg-gradient-to-br from-accent-500 to-accent-600 text-brand-900 text-xs font-bold px-3 py-1 rounded-full shadow-lg transform rotate-12 z-10">
                ⭐ PREMIUM
              </div>
            )}
            
            {/* Efecto glow en hover */}
            <div class="absolute inset-0 bg-gradient-to-br from-accent-500/0 to-accent-600/0 group-hover:from-accent-500/10 group-hover:to-accent-600/5 transition-all duration-500 rounded-xl"></div>
            
            {/* Contenido */}
            <div class="relative z-10">
              <div class="text-5xl mb-4 transform group-hover:scale-110 group-hover:rotate-3 transition-all duration-300">{service.icon}</div>
                <h3 class="text-xl font-bold text-white mb-3 group-hover:text-accent-400 transition-colors duration-300">{service.title}</h3>
              <p class="text-neutral-400 text-sm mb-4 group-hover:text-neutral-300 transition-colors duration-300">{service.description}</p>
            
              <div class="space-y-2 mb-4">
                <p class="text-accent-400 font-bold text-lg group-hover:text-accent-300 transition-colors duration-300">{service.price}</p>
                <p class="text-neutral-500 text-sm group-hover:text-neutral-400 transition-colors duration-300">⏱️ {service.duration}</p>
              </div>

              {service.features && (
                <ul class="space-y-2 mb-4">
                  {service.features.map((feature) => (
                    <li class="text-neutral-400 text-sm flex items-start group-hover:text-neutral-300 transition-colors duration-300">
                      <span class="text-accent-400 mr-2 group-hover:text-accent-300 transition-colors duration-300">✓</span>
                      <span>{feature}</span>
                    </li>
                  ))}
                </ul>
              )}
            </div>
          </div>
        ))}
      </div>

      <!-- CTA para ver precios completos -->
      <div class="text-center" data-aos="fade-up">
        <a 
          href="#contacto"
          class="inline-flex items-center px-8 py-4 bg-neutral-800 hover:bg-neutral-700 text-white font-semibold rounded-lg border border-neutral-700 transition-all duration-300"
        >
          Ver lista completa de precios
          <svg class="w-5 h-5 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
          </svg>
        </a>
      </div>
    </div>
  </section>

  <!-- Sección Sobre Nosotros -->
  <AboutSection />

  <!-- Sección de Testimonios -->
  <section id="testimonios" class="py-20 px-4 bg-neutral-950">
    <div class="max-w-7xl mx-auto">
      <!-- Encabezado -->
      <div class="text-center mb-16" data-aos="fade-up">
        <h2 class="text-4xl md:text-5xl font-heading font-bold text-white mb-4">
          Lo que dicen nuestros clientes
        </h2>
        <p class="text-xl text-accent-400 font-semibold mb-6">
          La satisfacción de nuestros clientes nos respalda
        </p>
        <div class="w-24 h-1 bg-accent-500 mx-auto"></div>
      </div>

      <!-- Grid de testimonios -->
      <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
        {barberia.testimonials.map((testimonial, index) => (
          <div 
            class="group bg-neutral-900 rounded-xl p-8 border border-neutral-800 hover:border-accent-500/50 hover:shadow-2xl hover:shadow-accent/10 hover:-translate-y-2 transition-all duration-500"
            data-aos="fade-up"
            data-aos-delay={index * 100}
          >
            <!-- Rating con animación -->
            <div class="flex mb-4 space-x-1">
              {Array.from({ length: 5 }).map((_, starIndex) => (
                <svg 
                  class={`w-6 h-6 ${starIndex < testimonial.rating ? 'text-accent-400' : 'text-neutral-700'} transform group-hover:scale-125 transition-all duration-300`}
                  style={`transition-delay: ${starIndex * 50}ms`}
                  fill="currentColor" 
                  viewBox="0 0 20 20"
                >
                  <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z" />
                </svg>
              ))}
            </div>

            <!-- Texto con comillas decorativas -->
            <div class="relative mb-6">
              <svg class="absolute -top-2 -left-2 w-8 h-8 text-accent-500/30" fill="currentColor" viewBox="0 0 32 32">
                <path d="M10 8c-3.3 0-6 2.7-6 6v10h10V14h-6c0-2.2 1.8-4 4-4V8zm16 0c-3.3 0-6 2.7-6 6v10h10V14h-6c0-2.2 1.8-4 4-4V8z"/>
              </svg>
              <p class="text-neutral-300 italic leading-relaxed pl-6 group-hover:text-white transition-colors duration-300">
                {testimonial.text}
              </p>
            </div>

            <!-- Autor con avatar mejorado -->
            <div class="flex items-center space-x-4 pt-4 border-t border-neutral-800">
              <div class="relative">
                <div class="w-14 h-14 bg-gradient-to-br from-accent-500 to-accent-700 rounded-full flex items-center justify-center text-white font-bold text-xl shadow-lg group-hover:scale-110 transition-transform duration-300">
                  {testimonial.name.charAt(0)}
                </div>
                {/* Badge verificado */}
                <div class="absolute -bottom-1 -right-1 w-5 h-5 bg-green-500 rounded-full border-2 border-neutral-900 flex items-center justify-center">
                  <svg class="w-3 h-3 text-white" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"/>
                  </svg>
                </div>
              </div>
              <div>
                <p class="text-white font-semibold text-lg group-hover:text-accent-400 transition-colors duration-300">{testimonial.name}</p>
                <p class="text-neutral-500 text-sm">📍 {testimonial.city}</p>
              </div>
            </div>
          </div>
        ))}
      </div>
    </div>
  </section>

  <!-- Sección de Contacto -->
  <ContactSection />

  <!-- Footer -->
  <Footer />

  <!-- Botón flotante de WhatsApp -->
  <WhatsAppButton />
</BaseLayout>

<style>
  /* Animaciones personalizadas */
  @keyframes float-gentle {
    0%, 100% { transform: translateY(0px); }
    50% { transform: translateY(-10px); }
  }
</style>
